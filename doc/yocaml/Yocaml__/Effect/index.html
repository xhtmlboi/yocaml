<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Effect (yocaml.Yocaml__.Effect)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">yocaml</a> &#x00BB; <a href="../index.html">Yocaml__</a> &#x00BB; Effect</nav><h1>Module <code>Yocaml__.Effect</code></h1><nav class="toc"><ul><li><a href="#a-bad-faith-preamble">A bad faith preamble</a></li><li><a href="#effects-list">Effects list</a></li><li><a href="#global-definition">Global definition</a><ul><li><a href="#freer-monad-over-effects">Freer monad over effects</a></li><li><a href="#performing-effects">Performing effects</a><ul><li><a href="#filesystem">Filesystem</a></li><li><a href="#logging">Logging</a></li><li><a href="#open-bar">Open bar</a></li><li><a href="#effects-composition">Effects composition</a></li></ul></li><li><a href="#included-freer-combinators">Included Freer combinators</a></li></ul></li></ul></nav></header><aside><p>Centralization of the effects that can be performed.</p></aside><section><header><h2 id="a-bad-faith-preamble"><a href="#a-bad-faith-preamble" class="anchor"></a>A bad faith preamble</h2><p>To be beautiful and modern, this project separates the description of the programme from its interpretation. But as the composition is not really to my taste in Preface, I decided to centralize all the effects, like the errors, in one module.</p><p><em>Ugh</em>, that sounds perfectly stupid... it would be like considering that you can only express one family of effects (you could call it ... <code>IO</code>). Don't panic, the first parameter of type <code>effect</code> allows you to make a selective choice when defining <code>Freer</code>. One could say that one takes advantage of the <em>non-surjective</em> aspect of the constructors of a sum (thanks to the GADTs!). Well, I'd be lying if I said I was convinced it was a good approach, but at least it seems viable.</p></header></section><section><header><h2 id="effects-list"><a href="#effects-list" class="anchor"></a>Effects list</h2><p>Boy, this type sounds like a hell of a lot of trouble to read! don't read it and go a little lower, there are kind of smarts constructors.</p></header><dl><dt class="spec type" id="type-effects"><a href="#type-effects" class="anchor"></a><code><span class="keyword">type</span> <span>(_, 'a) effects</span></code><code> = </code><table class="variant"><tr id="type-effects.File_exists" class="anchored"><td class="def constructor"><a href="#type-effects.File_exists" class="anchor"></a><code>| </code><code><span class="constructor">File_exists</span> : <a href="../../Yocaml/Aliases/index.html#type-filepath">Yocaml.Aliases.filepath</a> <span>&#45;&gt;</span> <span><span>(&lt; file_exists : <a href="../../Yocaml/Aliases/index.html#type-e">Yocaml.Aliases.e</a>; .. &gt;, bool)</span> <a href="index.html#type-effects">effects</a></span></code></td></tr><tr id="type-effects.Get_modification_time" class="anchored"><td class="def constructor"><a href="#type-effects.Get_modification_time" class="anchor"></a><code>| </code><code><span class="constructor">Get_modification_time</span> : <a href="../../Yocaml/Aliases/index.html#type-filepath">Yocaml.Aliases.filepath</a> <span>&#45;&gt;</span> <span><span>(&lt; get_modification_time : <a href="../../Yocaml/Aliases/index.html#type-e">Yocaml.Aliases.e</a>; .. &gt;, <span>int <a href="../../Yocaml/Try/index.html#type-t">Yocaml.Try.t</a></span>)</span> <a href="index.html#type-effects">effects</a></span></code></td></tr><tr id="type-effects.Read_file" class="anchored"><td class="def constructor"><a href="#type-effects.Read_file" class="anchor"></a><code>| </code><code><span class="constructor">Read_file</span> : <a href="../../Yocaml/Aliases/index.html#type-filepath">Yocaml.Aliases.filepath</a> <span>&#45;&gt;</span> <span><span>(&lt; read_file : <a href="../../Yocaml/Aliases/index.html#type-e">Yocaml.Aliases.e</a>; .. &gt;, <span>string <a href="../../Yocaml/Try/index.html#type-t">Yocaml.Try.t</a></span>)</span> <a href="index.html#type-effects">effects</a></span></code></td></tr><tr id="type-effects.Write_file" class="anchored"><td class="def constructor"><a href="#type-effects.Write_file" class="anchor"></a><code>| </code><code><span class="constructor">Write_file</span> : <span>(<a href="../../Yocaml/Aliases/index.html#type-filepath">Yocaml.Aliases.filepath</a> * string)</span> <span>&#45;&gt;</span> <span><span>(&lt; write_file : <a href="../../Yocaml/Aliases/index.html#type-e">Yocaml.Aliases.e</a>; .. &gt;, <span>unit <a href="../../Yocaml/Try/index.html#type-t">Yocaml.Try.t</a></span>)</span> <a href="index.html#type-effects">effects</a></span></code></td></tr><tr id="type-effects.Read_dir" class="anchored"><td class="def constructor"><a href="#type-effects.Read_dir" class="anchor"></a><code>| </code><code><span class="constructor">Read_dir</span> : <span>(<a href="../../Yocaml/Aliases/index.html#type-filepath">Yocaml.Aliases.filepath</a> * <span>[&lt; `Files <span>| `Directories</span> <span>| `Both</span> ]</span> * <span><a href="../../Yocaml/Aliases/index.html#type-filepath">Yocaml.Aliases.filepath</a> Preface.Predicate.t</span>)</span> <span>&#45;&gt;</span> <span><span>(&lt; read_dir : <a href="../../Yocaml/Aliases/index.html#type-e">Yocaml.Aliases.e</a>; .. &gt;, <span><a href="../../Yocaml/Aliases/index.html#type-filepath">Yocaml.Aliases.filepath</a> list</span>)</span> <a href="index.html#type-effects">effects</a></span></code></td></tr><tr id="type-effects.Log" class="anchored"><td class="def constructor"><a href="#type-effects.Log" class="anchor"></a><code>| </code><code><span class="constructor">Log</span> : <span>(<a href="../../Yocaml/Aliases/index.html#type-log_level">Yocaml.Aliases.log_level</a> * string)</span> <span>&#45;&gt;</span> <span><span>(&lt; log : <a href="../../Yocaml/Aliases/index.html#type-e">Yocaml.Aliases.e</a>; .. &gt;, unit)</span> <a href="index.html#type-effects">effects</a></span></code></td></tr><tr id="type-effects.Throw" class="anchored"><td class="def constructor"><a href="#type-effects.Throw" class="anchor"></a><code>| </code><code><span class="constructor">Throw</span> : <a href="../../Yocaml/Error/index.html#type-t">Yocaml.Error.t</a> <span>&#45;&gt;</span> <span><span>(&lt; throw : <a href="../../Yocaml/Aliases/index.html#type-e">Yocaml.Aliases.e</a>; .. &gt;, <span class="type-var">'a</span>)</span> <a href="index.html#type-effects">effects</a></span></code></td></tr><tr id="type-effects.Raise" class="anchored"><td class="def constructor"><a href="#type-effects.Raise" class="anchor"></a><code>| </code><code><span class="constructor">Raise</span> : exn <span>&#45;&gt;</span> <span><span>(&lt; raise_ : <a href="../../Yocaml/Aliases/index.html#type-e">Yocaml.Aliases.e</a>; .. &gt;, <span class="type-var">'a</span>)</span> <a href="index.html#type-effects">effects</a></span></code></td></tr></table></dt></dl></section><section><header><h2 id="global-definition"><a href="#global-definition" class="anchor"></a>Global definition</h2><p>Complete mechanism for describing programs by description and providing them with handlers (interpreters/runtime) for all effects modelled in type <code>t</code>. <em>(So absolutely not taking advantage of the slicing capability... It was well worth it!)</em></p></header><section><header><h3 id="freer-monad-over-effects"><a href="#freer-monad-over-effects" class="anchor"></a>Freer monad over effects</h3><p>All the plumbing for effects description/interpretation resides through a Freer monad (thanks Preface). Although this module is included below, I have taken the liberty of displaying it... for documentation purposes only.</p></header><div class="spec module" id="module-Freer"><a href="#module-Freer" class="anchor"></a><code><span class="keyword">module</span> Freer : Preface_specs.FREER_MONAD <span class="keyword">with</span> <span class="keyword">type</span> <span>'a <a href="index.html#module-Freer">Freer</a>.f</span> = <span><span>(&lt; file_exists : <a href="../../Yocaml/Aliases/index.html#type-e">Yocaml.Aliases.e</a>; get_modification_time : <a href="../../Yocaml/Aliases/index.html#type-e">Yocaml.Aliases.e</a>; read_file : <a href="../../Yocaml/Aliases/index.html#type-e">Yocaml.Aliases.e</a>; write_file : <a href="../../Yocaml/Aliases/index.html#type-e">Yocaml.Aliases.e</a>; read_dir : <a href="../../Yocaml/Aliases/index.html#type-e">Yocaml.Aliases.e</a>; log : <a href="../../Yocaml/Aliases/index.html#type-e">Yocaml.Aliases.e</a>; throw : <a href="../../Yocaml/Aliases/index.html#type-e">Yocaml.Aliases.e</a>; raise_ : <a href="../../Yocaml/Aliases/index.html#type-e">Yocaml.Aliases.e</a>; &gt;, <span class="type-var">'a</span>)</span> <a href="index.html#type-effects">effects</a></span></code></div></section><section><header><h3 id="performing-effects"><a href="#performing-effects" class="anchor"></a>Performing effects</h3><p>Once described (or/and specialised), the effects must be produced in a programme description. To transform the description of an effect (a value of type <span class="xref-unresolved" title="unresolved reference to &quot;Effect.effect&quot;"><a href="../index.html#module-Effect"><code>Effect</code></a>.effect</span>) into the execution of this effect, thus a value of type <span class="xref-unresolved" title="unresolved reference to &quot;Effect.t&quot;"><a href="../index.html#module-Effect"><code>Effect</code></a>.t</span>), the <code>perform</code> function is used.</p></header><section><header><h4 id="filesystem"><a href="#filesystem" class="anchor"></a>Filesystem</h4><p>In generating a static blog, having control over the file system seems to be a minimum!</p></header><dl><dt class="spec value" id="val-file_exists"><a href="#val-file_exists" class="anchor"></a><code><span class="keyword">val</span> file_exists : <a href="../../Yocaml/Aliases/index.html#type-filepath">Yocaml.Aliases.filepath</a> <span>&#45;&gt;</span> <span>bool <a href="index.html#module-Freer">Freer</a>.t</span></code></dt><dd><p><code>file_exists path</code> should be interpreted as returning <code>true</code> if the file denoted by the file path <code>path</code> exists, <code>false</code> otherwise.</p></dd></dl><dl><dt class="spec value" id="val-get_modification_time"><a href="#val-get_modification_time" class="anchor"></a><code><span class="keyword">val</span> get_modification_time : <a href="../../Yocaml/Aliases/index.html#type-filepath">Yocaml.Aliases.filepath</a> <span>&#45;&gt;</span> <span><span>int <a href="../../Yocaml/Try/index.html#type-t">Yocaml.Try.t</a></span> <a href="index.html#module-Freer">Freer</a>.t</span></code></dt><dd><p><code>get_modification_time path</code> should be interpreted as returning, as an integer, the Unix time (<code>mtime</code> corresponding to the modification date of the file denoted by the file path <code>path</code>.</p></dd></dl><dl><dt class="spec value" id="val-read_file"><a href="#val-read_file" class="anchor"></a><code><span class="keyword">val</span> read_file : <a href="../../Yocaml/Aliases/index.html#type-filepath">Yocaml.Aliases.filepath</a> <span>&#45;&gt;</span> <span><span>string <a href="../../Yocaml/Try/index.html#type-t">Yocaml.Try.t</a></span> <a href="index.html#module-Freer">Freer</a>.t</span></code></dt><dd><p><code>read_file path</code> should be interpreted as trying to read the contents of the file denoted by the file path <code>path</code>. At the moment I'm using strings mainly out of laziness, and as I'll probably be the only user of this library... it doesn't matter!</p></dd></dl><dl><dt class="spec value" id="val-write_file"><a href="#val-write_file" class="anchor"></a><code><span class="keyword">val</span> write_file : <a href="../../Yocaml/Aliases/index.html#type-filepath">Yocaml.Aliases.filepath</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span><span>unit <a href="../../Yocaml/Try/index.html#type-t">Yocaml.Try.t</a></span> <a href="index.html#module-Freer">Freer</a>.t</span></code></dt><dd><p><code>write_file path content</code> should be interpreted as trying to write <code>content</code> to the file denoted by the file path <code>path</code>. In my understanding of the system, the file will be completely overwritten if it already exists. Once again I am using strings, but this time it is not laziness, it is to be consistent with <code>read_file</code>.</p></dd></dl><dl><dt class="spec value" id="val-read_children"><a href="#val-read_children" class="anchor"></a><code><span class="keyword">val</span> read_children : <a href="../../Yocaml/Aliases/index.html#type-filepath">Yocaml.Aliases.filepath</a> <span>&#45;&gt;</span> <span><a href="../../Yocaml/Aliases/index.html#type-filepath">Yocaml.Aliases.filepath</a> Preface.Predicate.t</span> <span>&#45;&gt;</span> <span><span><a href="../../Yocaml/Aliases/index.html#type-filepath">Yocaml.Aliases.filepath</a> list</span> <a href="index.html#module-Freer">Freer</a>.t</span></code></dt><dd><p>Get a list of all children of a path.</p></dd></dl><dl><dt class="spec value" id="val-read_child_files"><a href="#val-read_child_files" class="anchor"></a><code><span class="keyword">val</span> read_child_files : <a href="../../Yocaml/Aliases/index.html#type-filepath">Yocaml.Aliases.filepath</a> <span>&#45;&gt;</span> <span><a href="../../Yocaml/Aliases/index.html#type-filepath">Yocaml.Aliases.filepath</a> Preface.Predicate.t</span> <span>&#45;&gt;</span> <span><span><a href="../../Yocaml/Aliases/index.html#type-filepath">Yocaml.Aliases.filepath</a> list</span> <a href="index.html#module-Freer">Freer</a>.t</span></code></dt><dd><p>Get a list of all child files of a path (exclude dirs).</p></dd></dl><dl><dt class="spec value" id="val-read_child_directories"><a href="#val-read_child_directories" class="anchor"></a><code><span class="keyword">val</span> read_child_directories : <a href="../../Yocaml/Aliases/index.html#type-filepath">Yocaml.Aliases.filepath</a> <span>&#45;&gt;</span> <span><a href="../../Yocaml/Aliases/index.html#type-filepath">Yocaml.Aliases.filepath</a> Preface.Predicate.t</span> <span>&#45;&gt;</span> <span><span><a href="../../Yocaml/Aliases/index.html#type-filepath">Yocaml.Aliases.filepath</a> list</span> <a href="index.html#module-Freer">Freer</a>.t</span></code></dt><dd><p>Get a list of all child directories of a path (exclude files).</p></dd></dl><dl><dt class="spec value" id="val-collect_children"><a href="#val-collect_children" class="anchor"></a><code><span class="keyword">val</span> collect_children : <span><a href="../../Yocaml/Aliases/index.html#type-filepath">Yocaml.Aliases.filepath</a> list</span> <span>&#45;&gt;</span> <span><a href="../../Yocaml/Aliases/index.html#type-filepath">Yocaml.Aliases.filepath</a> Preface.Predicate.t</span> <span>&#45;&gt;</span> <span><span><a href="../../Yocaml/Aliases/index.html#type-filepath">Yocaml.Aliases.filepath</a> list</span> <a href="index.html#module-Freer">Freer</a>.t</span></code></dt><dd><p>Same of <code>read_children</code> but searching through a list of directories.</p></dd></dl><dl><dt class="spec value" id="val-collect_child_files"><a href="#val-collect_child_files" class="anchor"></a><code><span class="keyword">val</span> collect_child_files : <span><a href="../../Yocaml/Aliases/index.html#type-filepath">Yocaml.Aliases.filepath</a> list</span> <span>&#45;&gt;</span> <span><a href="../../Yocaml/Aliases/index.html#type-filepath">Yocaml.Aliases.filepath</a> Preface.Predicate.t</span> <span>&#45;&gt;</span> <span><span><a href="../../Yocaml/Aliases/index.html#type-filepath">Yocaml.Aliases.filepath</a> list</span> <a href="index.html#module-Freer">Freer</a>.t</span></code></dt><dd><p>Same of <code>read_child_files</code> but searching through a list of directories.</p></dd></dl><dl><dt class="spec value" id="val-collect_child_directories"><a href="#val-collect_child_directories" class="anchor"></a><code><span class="keyword">val</span> collect_child_directories : <span><a href="../../Yocaml/Aliases/index.html#type-filepath">Yocaml.Aliases.filepath</a> list</span> <span>&#45;&gt;</span> <span><a href="../../Yocaml/Aliases/index.html#type-filepath">Yocaml.Aliases.filepath</a> Preface.Predicate.t</span> <span>&#45;&gt;</span> <span><span><a href="../../Yocaml/Aliases/index.html#type-filepath">Yocaml.Aliases.filepath</a> list</span> <a href="index.html#module-Freer">Freer</a>.t</span></code></dt><dd><p>Same of <code>read_child_directories</code> but searching through a list of directories.</p></dd></dl><dl><dt class="spec value" id="val-process_files"><a href="#val-process_files" class="anchor"></a><code><span class="keyword">val</span> process_files : <span><a href="../../Yocaml/Aliases/index.html#type-filepath">Yocaml.Aliases.filepath</a> list</span> <span>&#45;&gt;</span> <span><a href="../../Yocaml/Aliases/index.html#type-filepath">Yocaml.Aliases.filepath</a> Preface.Predicate.t</span> <span>&#45;&gt;</span> <span>(<a href="../../Yocaml/Aliases/index.html#type-filepath">Yocaml.Aliases.filepath</a> <span>&#45;&gt;</span> <span>unit <a href="index.html#module-Freer">Freer</a>.t</span>)</span> <span>&#45;&gt;</span> <span>unit <a href="index.html#module-Freer">Freer</a>.t</span></code></dt><dd><p><code>process_files path predicate action</code> performs sequentially <code>action</code> on each files which satisfies <code>predicate</code>.</p></dd></dl></section><section><header><h4 id="logging"><a href="#logging" class="anchor"></a>Logging</h4><p>Even if it would be possible to limit our feedback with the user to simply returning an integer (<em>El famoso Unix Return</em>)... it would still be more convenient to display feedback to the user on the stage the program is in, right?</p></header><dl><dt class="spec value" id="val-log"><a href="#val-log" class="anchor"></a><code><span class="keyword">val</span> log : <a href="../../Yocaml/Aliases/index.html#type-log_level">Yocaml.Aliases.log_level</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span>unit <a href="index.html#module-Freer">Freer</a>.t</span></code></dt><dd><p><code>log level message</code> should be interpreted as writing (probably to standard output) a message associated with a log level. To look good, the colour should change according to the log level, it would look more professional!</p></dd></dl><dl><dt class="spec value" id="val-trace"><a href="#val-trace" class="anchor"></a><code><span class="keyword">val</span> trace : string <span>&#45;&gt;</span> <span>unit <a href="index.html#module-Freer">Freer</a>.t</span></code></dt><dd><p><code>trace message</code> is an alias of <code>log Aliases.Trace</code>.</p></dd></dl><dl><dt class="spec value" id="val-debug"><a href="#val-debug" class="anchor"></a><code><span class="keyword">val</span> debug : string <span>&#45;&gt;</span> <span>unit <a href="index.html#module-Freer">Freer</a>.t</span></code></dt><dd><p><code>debug message</code> is an alias of <code>log Aliases.Debug</code>.</p></dd></dl><dl><dt class="spec value" id="val-info"><a href="#val-info" class="anchor"></a><code><span class="keyword">val</span> info : string <span>&#45;&gt;</span> <span>unit <a href="index.html#module-Freer">Freer</a>.t</span></code></dt><dd><p><code>info message</code> is an alias of <code>log Aliases.Info</code>.</p></dd></dl><dl><dt class="spec value" id="val-warning"><a href="#val-warning" class="anchor"></a><code><span class="keyword">val</span> warning : string <span>&#45;&gt;</span> <span>unit <a href="index.html#module-Freer">Freer</a>.t</span></code></dt><dd><p><code>warning message</code> is an alias of <code>log Aliases.Warning</code>.</p></dd></dl><dl><dt class="spec value" id="val-alert"><a href="#val-alert" class="anchor"></a><code><span class="keyword">val</span> alert : string <span>&#45;&gt;</span> <span>unit <a href="index.html#module-Freer">Freer</a>.t</span></code></dt><dd><p><code>alert message</code> is an alias of <code>log Aliases.Alert</code>.</p></dd></dl></section><section><header><h4 id="open-bar"><a href="#open-bar" class="anchor"></a>Open bar</h4><p>When we are in the context of an IO, ahem, effect execution, it's open bar, we can do whatever we want, like throwing exceptions galore!</p></header><dl><dt class="spec value" id="val-throw"><a href="#val-throw" class="anchor"></a><code><span class="keyword">val</span> throw : <a href="../../Yocaml/Error/index.html#type-t">Yocaml.Error.t</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#module-Freer">Freer</a>.t</span></code></dt><dd><p><code>throw error</code> should be interpreted as... &quot;fire, fire, what to do using an Error!&quot;.</p></dd></dl><dl><dt class="spec value" id="val-raise_"><a href="#val-raise_" class="anchor"></a><code><span class="keyword">val</span> raise_ : exn <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#module-Freer">Freer</a>.t</span></code></dt><dd><p><code>raise_ exn</code> should be interpreted as... &quot;fire, fire, what to do using an exception!&quot;.</p></dd></dl></section><section><header><h4 id="effects-composition"><a href="#effects-composition" class="anchor"></a>Effects composition</h4></header><dl><dt class="spec value" id="val-sequence"><a href="#val-sequence" class="anchor"></a><code><span class="keyword">val</span> sequence : <span><span><span class="type-var">'a</span> list</span> <a href="index.html#module-Freer">Freer</a>.t</span> <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#module-Freer">Freer</a>.t</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#module-Freer">Freer</a>.t</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#module-Freer">Freer</a>.t</span></code></dt><dd><p>Collapses sequentially YOCaml program. <code>sequence ps f p</code> produces a program which performs <code>p</code> followed by <code>f ps</code>. A common usage is <code>p |&gt; sequences ps f</code>.</p></dd></dl></section></section><section><header><h3 id="included-freer-combinators"><a href="#included-freer-combinators" class="anchor"></a>Included Freer combinators</h3><p>As mentioned above, the plumbing of program description and program handling is provided through a Freer Monad, a technique that aims to describe a free build over a Left Kan extension. Although the presence of <em>slicing</em> allows for the construction of specialised effects handlers, in the use case of this blog generator, the effects I propagate turn out to be exactly those I have described in my complete effects list. Coicindance, I don't think so!</p><p>It therefore seems logical (not to say ergonomic) to introduce the Freer interface in the toplevel of the <code>Effect</code> module. But as the interface is long and tiring to read, I place it at the end of the module!</p></header><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include</span> Preface_specs.FREER_MONAD <span class="keyword">with</span> <span class="keyword">type</span> <span>'a <a href="../index.html#module-Effect">Effect</a>.f</span> = <span><span class="type-var">'a</span> <a href="index.html#module-Freer">Freer</a>.f</span> <span class="keyword">and</span> <span class="keyword">type</span> <span>'a <a href="../index.html#module-Effect">Effect</a>.t</span> = <span><span class="type-var">'a</span> <a href="index.html#module-Freer">Freer</a>.t</span></code></span></summary><dl><dt class="spec type" id="type-f"><a href="#type-f" class="anchor"></a><code><span class="keyword">type</span> <span>!'a f</span></code><code> = <span><span class="type-var">'a</span> <a href="index.html#module-Freer">Freer</a>.f</span></code></dt><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> <span>!'a t</span></code><code> = <span><span class="type-var">'a</span> <a href="index.html#module-Freer">Freer</a>.t</span></code><code> = </code><table class="variant"><tr id="type-t.Return" class="anchored"><td class="def constructor"><a href="#type-t.Return" class="anchor"></a><code>| </code><code><span class="constructor">Return</span> : <span class="type-var">'b</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-t">t</a></span></code></td></tr><tr id="type-t.Bind" class="anchored"><td class="def constructor"><a href="#type-t.Bind" class="anchor"></a><code>| </code><code><span class="constructor">Bind</span> : <span><span class="type-var">'c</span> <a href="index.html#type-f">f</a></span> * <span>(<span class="type-var">'c</span> <span>&#45;&gt;</span> <span><span class="type-var">'d</span> <a href="index.html#type-t">t</a></span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'d</span> <a href="index.html#type-t">t</a></span></code></td></tr></table></dt><dt class="spec type" id="type-handler"><a href="#type-handler" class="anchor"></a><code><span class="keyword">type</span> <span>!'a handler</span></code><code> = </code><code>{</code><table class="record"><tr id="type-handler.handler" class="anchored"><td class="def field"><a href="#type-handler.handler" class="anchor"></a><code>handler : b. <span>(<span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-f">f</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span>;</code></td></tr></table><code>}</code></dt></dl><dl><dt class="spec value" id="val-perform"><a href="#val-perform" class="anchor"></a><code><span class="keyword">val</span> perform : <span><span class="type-var">'a</span> <a href="index.html#type-f">f</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-run"><a href="#val-run" class="anchor"></a><code><span class="keyword">val</span> run : <span><span class="type-var">'a</span> <a href="index.html#type-handler">handler</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt></dl><div class="spec module" id="module-Functor"><a href="#module-Functor" class="anchor"></a><code><span class="keyword">module</span> <a href="Functor/index.html">Functor</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Applicative"><a href="#module-Applicative" class="anchor"></a><code><span class="keyword">module</span> <a href="Applicative/index.html">Applicative</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Monad"><a href="#module-Monad" class="anchor"></a><code><span class="keyword">module</span> <a href="Monad/index.html">Monad</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-bind"><a href="#val-bind" class="anchor"></a><code><span class="keyword">val</span> bind : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-t">t</a></span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-map"><a href="#val-map" class="anchor"></a><code><span class="keyword">val</span> map : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-join"><a href="#val-join" class="anchor"></a><code><span class="keyword">val</span> join : <span><span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-return"><a href="#val-return" class="anchor"></a><code><span class="keyword">val</span> return : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-compose_left_to_right"><a href="#val-compose_left_to_right" class="anchor"></a><code><span class="keyword">val</span> compose_left_to_right : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-t">t</a></span>)</span> <span>&#45;&gt;</span> <span>(<span class="type-var">'b</span> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> <a href="index.html#type-t">t</a></span>)</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-compose_right_to_left"><a href="#val-compose_right_to_left" class="anchor"></a><code><span class="keyword">val</span> compose_right_to_left : <span>(<span class="type-var">'b</span> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> <a href="index.html#type-t">t</a></span>)</span> <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-t">t</a></span>)</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-lift"><a href="#val-lift" class="anchor"></a><code><span class="keyword">val</span> lift : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-lift2"><a href="#val-lift2" class="anchor"></a><code><span class="keyword">val</span> lift2 : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'c</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-lift3"><a href="#val-lift3" class="anchor"></a><code><span class="keyword">val</span> lift3 : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'c</span> <span>&#45;&gt;</span> <span class="type-var">'d</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'d</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-replace"><a href="#val-replace" class="anchor"></a><code><span class="keyword">val</span> replace : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-void"><a href="#val-void" class="anchor"></a><code><span class="keyword">val</span> void : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>unit <a href="index.html#type-t">t</a></span></code></dt></dl><div class="spec module" id="module-Infix"><a href="#module-Infix" class="anchor"></a><code><span class="keyword">module</span> <a href="Infix/index.html">Infix</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-(=|&lt;)"><a href="#val-(=|&lt;)" class="anchor"></a><code><span class="keyword">val</span> (=|&lt;) : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-(&gt;|=)"><a href="#val-(&gt;|=)" class="anchor"></a><code><span class="keyword">val</span> (&gt;|=) : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-(&gt;&gt;=)"><a href="#val-(&gt;&gt;=)" class="anchor"></a><code><span class="keyword">val</span> (&gt;&gt;=) : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-t">t</a></span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-(=&lt;&lt;)"><a href="#val-(=&lt;&lt;)" class="anchor"></a><code><span class="keyword">val</span> (=&lt;&lt;) : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-t">t</a></span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-(&gt;=&gt;)"><a href="#val-(&gt;=&gt;)" class="anchor"></a><code><span class="keyword">val</span> (&gt;=&gt;) : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-t">t</a></span>)</span> <span>&#45;&gt;</span> <span>(<span class="type-var">'b</span> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> <a href="index.html#type-t">t</a></span>)</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-(&lt;=&lt;)"><a href="#val-(&lt;=&lt;)" class="anchor"></a><code><span class="keyword">val</span> (&lt;=&lt;) : <span>(<span class="type-var">'b</span> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> <a href="index.html#type-t">t</a></span>)</span> <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-t">t</a></span>)</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-(&gt;&gt;)"><a href="#val-(&gt;&gt;)" class="anchor"></a><code><span class="keyword">val</span> (&gt;&gt;) : <span>unit <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-(&lt;&lt;)"><a href="#val-(&lt;&lt;)" class="anchor"></a><code><span class="keyword">val</span> (&lt;&lt;) : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>unit <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-(&lt;$&gt;)"><a href="#val-(&lt;$&gt;)" class="anchor"></a><code><span class="keyword">val</span> (&lt;$&gt;) : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-(&lt;&amp;&gt;)"><a href="#val-(&lt;&amp;&gt;)" class="anchor"></a><code><span class="keyword">val</span> (&lt;&amp;&gt;) : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-(&lt;$)"><a href="#val-(&lt;$)" class="anchor"></a><code><span class="keyword">val</span> (&lt;$) : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-($&gt;)"><a href="#val-($&gt;)" class="anchor"></a><code><span class="keyword">val</span> ($&gt;) : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-t">t</a></span></code></dt></dl><div class="spec module" id="module-Syntax"><a href="#module-Syntax" class="anchor"></a><code><span class="keyword">module</span> <a href="Syntax/index.html">Syntax</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-let*"><a href="#val-let*" class="anchor"></a><code><span class="keyword">val</span> let* : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-t">t</a></span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-let+"><a href="#val-let+" class="anchor"></a><code><span class="keyword">val</span> let+ : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-t">t</a></span></code></dt></dl></details></div></div></div><div class="spec module" id="module-Traverse"><a href="#module-Traverse" class="anchor"></a><code><span class="keyword">module</span> Traverse : Preface.Specs.TRAVERSABLE <span class="keyword">with</span> <span class="keyword">type</span> <span>'a <a href="index.html#module-Traverse">Traverse</a>.t</span> = <span><span class="type-var">'a</span> <a href="index.html#module-Freer">Freer</a>.t</span> <span class="keyword">and</span> <span class="keyword">type</span> <span>'a <a href="index.html#module-Traverse">Traverse</a>.iter</span> = <span><span class="type-var">'a</span> list</span></code></div></section></section></div></body></html>